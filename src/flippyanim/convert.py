import svg
import json

def encodeSVG(layers):
	e = []
	layer = layers[0]
	for item in layer['image']['data']:
		x = item['x']
		y = item['y']
		colour = item['color'][0:7]
		size = item['size'] if ('size' in item) else None
		
		if item['type'] == 'dl':
			stroke, fill = ('transparent', colour) if ('fill' in item and item['fill']) else (colour, 'transparent')
			path = [svg.M(x, y)]
			pointIter = iter(item['points'])
			for pos in pointIter:
				path.append(svg.l(pos, next(pointIter)))
			e.append(svg.Path(d=path, stroke=stroke, fill=fill, stroke_width=size))
		elif item['type'] == 'dc':
			stroke = colour
			path = [svg.M(x, y)]
			
			'''
			path = [svg.M(x, y)]
			pointsLen = (len(item['points'])//4)*4
			pointIter = iter(item['points'][0:pointsLen])
			for pos in pointIter:
				#x += pos
				#y += next(pointIter)
				path.append(svg.q(pos, next(pointIter), next(pointIter), next(pointIter)))
			pointIter = iter(item['points'][pointsLen:])
			for pos in pointIter:
				path.append(svg.t(pos, next(pointIter)))'''
			
			e.append(svg.Path(d=path, stroke=stroke, fill=fill, stroke_width=size, stroke_linejoin='round', stroke_linecap='round'))
		
	
	return svg.SVG(
		width = 470,
		height = 470,
		elements = e
	)
svgJSON = "{\"uid\":\"fbxlb\",\"image\":{\"curr\":3,\"data\":[{\"type\":\"dl\",\"color\":\"#ffffff\",\"fill\":true,\"x\":-10,\"y\":-10,\"points\":[490,0,0,490,-490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":12.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":32.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":52.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":72.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":92.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":112.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":132.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":152.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":172.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":192.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":212.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":232.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":252.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":272.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":292.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":312.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":332.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":352.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":372.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":392.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":412.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":432.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":452.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":14.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":34.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":54.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":74.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":94.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":114.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":134.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":154.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":174.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":194.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":214.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":234.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":254.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":274.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":294.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":314.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":334.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":354.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":374.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":394.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":414.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":434.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":454.5,\"points\":[490,0]},{\"type\":\"dc\",\"color\":\"#2c3e50ff\",\"size\":3,\"x\":51,\"y\":180,\"points\":[1,3,0,2,16,21,14,7,18,6,22,4,21,2,22,-3,20,-5,19,-10,6,-6,2,-3,0,-1,0,0,0,0,0,0]},{\"type\":\"dc\",\"color\":\"#2c3e50ff\",\"size\":3,\"x\":121,\"y\":285,\"points\":[2,3,1,1,6,6,7,6,10,8,13,8,24,4,16,0,18,-1,17,-3,17,-2,16,-2,9,-2,7,-3,2,-3,0,0,0,-1,0,0,0,0]},{\"type\":\"dc\",\"color\":\"#2c3e50ff\",\"size\":3,\"x\":288,\"y\":201,\"points\":[0,0,1,3,6,4,9,6,4,4,17,12,15,6,16,2,16,-1,16,-5,14,-8,13,-12,5,-8,3,-6,1,-4,0,0,0,0]},{\"type\":\"dc\",\"color\":\"#2c3e50ff\",\"size\":15,\"x\":67,\"y\":59,\"points\":[-7,4,-8,12,-2,13,3,14,15,19,7,5,32,10,8,-1,45,-29,7,-13,3,-12,-1,-9,-6,-9,-8,-7,-16,-8,-7,0,-17,-1,-2,0,0,0,0,0]},{\"type\":\"dc\",\"color\":\"#2c3e50ff\",\"size\":15,\"x\":212,\"y\":104,\"points\":[0,9,0,11,0,12,1,5,2,4,5,0,3,-3,12,-15,4,-11,7,-8,0,0,0,3,0,5,0,13,1,5,4,7,4,2,5,-2,8,-6,11,-14,5,-7,4,-8,0,-2,0,0,0,0,0,0]},{\"type\":\"dc\",\"color\":\"#2c3e50ff\",\"size\":15,\"x\":342,\"y\":71,\"points\":[-4,8,-2,18,2,16,6,15,10,12,13,4,20,-1,36,-20,12,-14,5,-14,0,-15,-7,-19,-10,-8,-15,-4,-19,-1,-16,0,-6,0,-8,0,-1,0,0,0,0,0]},{\"type\":\"dc\",\"color\":\"#2c3e50ff\",\"size\":15,\"x\":63,\"y\":71,\"points\":[3,9,1,6,3,5,4,4,13,1,9,-5,18,-13,4,-5,1,-3,-1,-2,-4,-4,-1,0,-2,0,-1,0,0,0,0,0]},{\"type\":\"dc\",\"color\":\"#2c3e50ff\",\"size\":15,\"x\":347,\"y\":74,\"points\":[0,1,0,5,1,1,3,6,1,1,6,2,3,0,9,-4,4,-2,11,-14,2,-14,-1,-2,-4,-3,-1,0,-5,0,-1,0,0,1,0,0,0,0]},{\"type\":\"dc\",\"color\":\"#2c3e50ff\",\"size\":3,\"x\":341,\"y\":367,\"points\":[-5,0,-18,-3,-16,-2,-87,0,-63,12,-23,9,-15,12,0,22,121,10,59,1,0,0,0,0]}]}}"
#svgJSON = "{\"uid\":\"fbxlp\",\"image\":{\"curr\":47,\"data\":[{\"type\":\"dl\",\"color\":\"#ffffff\",\"fill\":true,\"x\":-10,\"y\":-10,\"points\":[490,0,0,490,-490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":12.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":32.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":52.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":72.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":92.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":112.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":132.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":152.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":172.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":192.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":212.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":232.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":252.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":272.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":292.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":312.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":332.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":352.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":372.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":392.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":412.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":432.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":452.5,\"y\":-9.5,\"points\":[0,490]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":14.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":34.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":54.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":74.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":94.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":114.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":134.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":154.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":174.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":194.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":214.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":234.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":254.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":274.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":294.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":314.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":334.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":354.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":374.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":394.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":414.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":434.5,\"points\":[490,0]},{\"type\":\"dl\",\"size\":1,\"color\":\"#8fd0e2\",\"x\":-9.5,\"y\":454.5,\"points\":[490,0]}]}}"

svgFile = encodeSVG([json.loads(svgJSON)])
with open('balls.svg', 'w') as f:
	f.write(str(svgFile))
	